!function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=560)}({0:function(e,t){e.exports=React},10:function(e,t,r){var n=r(32).default,o=r(4);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},12:function(e,t,r){var n=r(42),o=r(43),a=r(41),s=r(44);e.exports=function(e){return n(e)||o(e)||a(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},13:function(e,t,r){"use strict";var n=r(3),o=r.n(n),n=r(12),n=r.n(n),a=r(25),a=r.n(a),s=r(26),s=r.n(s),i="/api",i=[{id:"fetchExamList",method:"get",withToken:!0,urls:{local:"".concat(i,"/f/v1/userwillexam")}},{id:"fetchExamInfo",method:"post",withToken:!0,urls:{local:"".concat(i,"/f/v1/startexam")}},{id:"replyQuestion",method:"post",withToken:!0,urls:{local:"".concat(i,"/f/v1/reply")}},{id:"stopExam",method:"post",withToken:!0,urls:{local:"".concat(i,"/f/v1/stopexam")}},{id:"endExam",method:"post",withToken:!0,urls:{local:"".concat(i,"/f/v1/endexam")}},{id:"queryExamResult",method:"get",urls:{local:"".concat(i,"/f/v1/userexamitemdetail")}}],c=r(27),c=r.n(c),u=r(28),u=r.n(u),l=r(29),r=r.n(l);function f(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach(function(e){o()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}l="/api",a=new a.a({csrf:!1,ENV:"local",urlencode:!1});a.use([{id:"fetchUserInfo",method:"get",withToken:!0,urls:{local:"".concat(l,"/f/v1/userinfo")}},{id:"login",method:"get",withToken:!1,urls:{local:"".concat(l,"/f/v1/login")}},{id:"fetchForumData",method:"get",withToken:!0,urls:{local:"".concat(l,"/f/v1/forums")}},{id:"fetchForumComments",method:"get",withToken:!0,urls:{local:"".concat(l,"/f/v1/commentByForumId")}},{id:"postForumData",method:"post",withToken:!0,urls:{local:"".concat(l,"/f/v1/forum")}},{id:"updateForumData",method:"post",withToken:!0,urls:{local:"".concat(l,"/f/v1/forum")}},{id:"fetchForumItemData",method:"get",withToken:!0,urls:{local:"".concat(l,"/f/v1/forum")}},{id:"commentForumItem",method:"post",withToken:!0,urls:{local:"".concat(l,"/f/v1/comment")}}].concat(n()(s.a),n()(i),n()(c.a),n()(u.a),n()(r.a))),a.interceptors.request.push(function(e,t){void 0!==e.withToken&&!e.withToken||(e.data=p(p({},e.data),{},{token:window.token}))}),a.interceptors.response.success.push(function(e,t,r){t.withToken&&0!==e.code&&-3===e.code&&(location.href="/login")}),t.a=a},17:function(e,t){e.exports=ReactRedux},2:function(e,t){e.exports=antd},20:function(e,t){e.exports=ReactDOM},21:function(e,t,r){"use strict";var n=r(56),s=r(53),o=r(57);function i(e,t){return t.encode?(t.strict?n:encodeURIComponent)(e):e}function a(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var r=function(e){var n;switch(e.arrayFormat){case"index":return function(e,t,r){n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),n?(void 0===r[e]&&(r[e]={}),r[e][n[1]]=t):r[e]=t};case"bracket":return function(e,t,r){n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0===r[e]?r[e]=[t]:r[e]=[].concat(r[e],t):r[e]=t};default:return function(e,t,r){void 0===r[e]?r[e]=t:r[e]=[].concat(r[e],t)}}}(t=s({arrayFormat:"none"},t)),n=Object.create(null);return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var e=e.replace(/\+/g," ").split("="),t=e.shift(),e=void 0===(e=0<e.length?e.join("="):void 0)?null:o(e);r(o(t),e,n)}),Object.keys(n).sort().reduce(function(e,t){var r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(r):e[t]=r,e},Object.create(null))):n}t.extract=a,t.parse=c,t.stringify=function(n,o){!1===(o=s({encode:!0,strict:!0,arrayFormat:"none"},o)).sort&&(o.sort=function(){});var a=function(n){switch(n.arrayFormat){case"index":return function(e,t,r){return(null===t?[i(e,n),"[",r,"]"]:[i(e,n),"[",i(r,n),"]=",i(t,n)]).join("")};case"bracket":return function(e,t){return null===t?i(e,n):[i(e,n),"[]=",i(t,n)].join("")};default:return function(e,t){return null===t?i(e,n):[i(e,n),"=",i(t,n)].join("")}}}(o);return n?Object.keys(n).sort(o.sort).map(function(t){var r,e=n[t];return void 0===e?"":null===e?i(t,o):Array.isArray(e)?(r=[],e.slice().forEach(function(e){void 0!==e&&r.push(a(t,e,r.length))}),r.join("&")):i(t,o)+"="+i(e,o)}).filter(function(e){return 0<e.length}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(a(e),t)}}},22:function(e,t){e.exports=Redux},23:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},24:function(e,t,r){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n="exceed_"+ +new Date;function u(e,t,r,n){var o,a=void 0,s=void 0,i=/\[\]$/;if(Array.isArray(t))for(s=0;t&&s<t.length;s++)o=t[s],r||i.test(e)?n(e,o):u(e+"["+("object"===(void 0===o?"undefined":c(o))?s:"")+"]",o,r,n);else if(t&&"[object Object]"===t.toString())for(a in t)u(e+"["+a+"]",t[a],r,n);else n(e,t)}function l(e){return e?e.replace(/\r?\n/g,"\r\n"):""}e.exports={getCallbackPrefix:function(){return n},toQueryString:function(e,t){function r(e,t){t="function"==typeof t?t():null==t?"":t,s[s.length]=i(e)+"="+i(t)}var n=void 0,o=void 0,a=t||!1,s=[],i=encodeURIComponent;if(Array.isArray(e))for(o=0;e&&o<e.length;o++)r(e[o].name,e[o].value);else for(n in e)e.hasOwnProperty(n)&&u(n,e[n],a,r);return s.join("&").replace(/%20/g,"+")},buildParams:u,normalize:l,serial:function(e,t){function r(e){e&&!e.disabled&&t(s,l(e.attributes.value&&e.attributes.value.specified?e.value:e.text))}var n,o,a,s=e.name,i=e.tagName.toLowerCase(),c=void 0;if(!e.disabled&&s)switch(i){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),o=/radio/i.test(e.type),a=e.value,(n||o)&&!e.checked||t(s,l(n&&""===a?"on":a)));break;case"textarea":t(s,l(e.value));break;case"select":if("select-one"===e.type.toLowerCase())r(0<=e.selectedIndex?e.options[e.selectedIndex]:null);else for(c=0;e.length&&c<e.length;c++)e.options[c].selected&&r(e.options[c])}}}},25:function(e,t,r){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=r(45),c=r(46),u=r(49);function l(e){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");e=e||{};"object"===("undefined"==typeof window?"undefined":s(window))&&window._ENV&&(e.ENV=window._ENV),e.env&&!e.ENV&&(e.ENV=e.env),e.ENV||(e.ENV="production"),e.urlencode||(e.urlencode=!1),this.config=e,this.interceptors={request:[u],response:{success:[],error:[],complete:[]}},this.apimap={}}function f(e){return a.apply(this,arguments)}n(l,[{key:"use",value:function(e){e instanceof Array?this.apimap=e:console&&console.warn&&console.warn("can not found ENV:"+this.config.ENV+" in your apimap")}},{key:"fetch",value:(a=function(n){var o=this,a=void 0;if("string"==typeof n&&(n={api:n}),this.apimap.forEach(function(e){if(e.id===n.api){if(n.params){var t=e.urls[o.config.ENV];if(o.config.urlencode){for(var r in n.params)"string"!=typeof n.params[r]&&"number"!=typeof n.params[r]||(n.params[r]=encodeURIComponent(n.params[r]));e.url=i.render(t,n.params)}else e.url=i.render(t,n.params)}else e.url=e.urls[o.config.ENV];a=e,Array.isArray(o.interceptors.response.success)?a.success=o.interceptors.response.success.slice():console.warn("interceptors can only receive interceptor Array!"),Array.isArray(o.interceptors.response.error)?a.error=o.interceptors.response.error.slice():console.warn("interceptors can only receive interceptor Array!"),Array.isArray(o.interceptors.response.complete)?a.complete=o.interceptors.response.complete.slice():console.warn("interceptors can only receive interceptor Array!")}}),a||console&&console.warn&&console.warn("can not found API:"+n.api+" in your current environment"),a.url||console.warn("API url is null, please check the APIMAP"),-1===a.url.indexOf("?")?a.url+="?":a.url+="&",a.url+="_input_charset=utf-8",n.data&&(a.data=n.data),this.interceptors.request.forEach(function(e){e(a,o.config)}),a.method){if("file"===a.method||"FILE"===a.method){var e=new FormData;if(e.append("file",n.file),a.data)for(var t in a.data)e.append(t.toString(),a.data[t]);return fetch(a.url,{method:"POST",mode:"same-origin",credentials:"same-origin",body:e}).then(function(e){return e.ok?e.json():Promise.reject(e)})}"application/json"===a.contentType&&"object"===s(a.data)&&(a.data=JSON.stringify(a.data))}return c(a)},f.toString=function(){return a.toString()},f)}]),e.exports=l},26:function(e,t){var r="/api";e.exports=[{id:"fetchCourseCaegories",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/coursecategorys")}},{id:"fetchBooks",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/books")}},{id:"fetchBookTypes",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/booktype")}},{id:"fetchBooksAndTypes",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/typeAndBooks")}},{id:"fetchUserCourses",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/usercourses")}},{id:"fetchAllCourses",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/allcourses")}},{id:"fetchLearningHistory",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/usercourserecordslike")}},{id:"fetchCourseDetail",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/coursedetail")}},{id:"subscribeCourse",method:"post",withToken:!0,urls:{local:"".concat(r,"/f/v1/usercourse")}},{id:"startCourse",method:"post",withToken:!0,urls:{local:"".concat(r,"/f/v1/userstartcourse")}}]},27:function(e,t){e.exports=[{id:"fetchVideos",method:"get",withToken:!0,urls:{local:"".concat("/api","/f/v1/videocenter")}},{id:"recordProgress",method:"post",withToken:!0,urls:{local:"".concat("/api","/f/v1/videoprogress")}}]},28:function(e,t){var r="/api";e.exports=[{id:"fetchKnowledge",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/knowledge")}},{id:"searchKnowledge",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/knowledge")}},{id:"fetchKnowledgeTypes",method:"get",withToken:!0,urls:{local:"".concat(r,"/f/v1/knowledges2")}}]},29:function(e,t){var r="http://121.40.106.81:8080";e.exports=[{id:"fetchAllSurveyList",method:"get",withToken:!1,urls:{local:r+"/api/survey"}},{id:"insertSurveyList",method:"post",withToken:!1,contentType:"application/json",urls:{local:r+"/api/survey/insert"}},{id:"querySurveyItem",method:"get",withToken:!1,urls:{local:r+"/api/survey/item"}},{id:"updateSurveyItem",withToken:!1,method:"post",contentType:"application/json",urls:{local:r+"/api/survey/update"}},{id:"fetchSurveyList",method:"get",withToken:!1,urls:{local:r+"/api/survey/list"}},{id:"submitSurvey",method:"post",withToken:!1,contentType:"appliction/json",urls:{local:r+"/api/survey/submitSurvey"}},{id:"fetchSurveyResultById",method:"get",withToken:!1,urls:{local:r+"/api/survey/resultById"}},{id:"removeSurveyItem",method:"get",withToken:!1,urls:{local:r+"/api/survey/delete"}}]},3:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},32:function(t,e){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},33:function(e,t,r){"use strict";var n=r(37),o=r.n(n);t.a=function(){return function(e){return o()(parseInt(1e6*Math.random()).toString(16),[e])}}},34:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var t=r(7),o=r.n(t),t=r(8),a=r.n(t),t=r(4),s=r.n(t),t=r(9),i=r.n(t),t=r(10),c=r.n(t),t=r(6),u=r.n(t),t=r(3),l=r.n(t),f=r(2),t=r(0),p=r.n(t),d=(r(69),r(38)),t=r(21),t=r.n(t),h=r(13);function m(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u()(r);return e=n?(e=u()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),c()(this,e)}}f.message.config({top:120,getContainer:function(){return document.getElementById("root")}}),window.message=f.message,window.query=t.a.parse(location.search),window.userInfo={role:0};var n=function(e){i()(n,e);var r=m(n);function n(e){var t;return o()(this,n),t=r.call(this,e),l()(s()(t),"state",{current:1,visible:!1}),l()(s()(t),"handleClick",function(e){}),l()(s()(t),"handleShowUserInfo",function(){t.setState({visible:!0})}),l()(s()(t),"handleClose",function(){t.setState({visible:!1})}),l()(s()(t),"handleLogout",function(){sessionStorage.removeItem("token"),localStorage.removeItem("token"),location.href="/login",document.cookie="token=; expires=".concat(new Date(0))}),window.loadUserInfo=new Promise(function(t){h.a.fetch({api:"fetchUserInfo"}).then(function(e){t(e)}).fail(function(){f.message.warn("网络异常")})}).then(function(e){0===e.code?(window.userInfo=e.body,t.head=userInfo.photo||"/assets/head.jpg",t.setState({userInfo:e.body})):location.href="/login"}),t.state={userInfo:{}},t}return a()(n,[{key:"render",value:function(){var e=this.state.userInfo;if(!window.token)return null;var t=this.props,r=t.fullScreen,r=void 0!==r&&r,n=t.breadcrumb,n=void 0===n?[{text:"首页"}]:n,o=t.showSearch,a=t.current,s=t.backTopTarget;return p.a.createElement(f.Layout,{className:"flex vertical"},p.a.createElement(f.Layout.Header,null,p.a.createElement("div",{className:"logo"},p.a.createElement("img",{width:"120",src:"/assets/logo.jpg"})),p.a.createElement(f.Menu,{selectedKeys:[a],className:"page-menu",onClick:this.handleClick,mode:"horizontal",theme:"dark"},d.map(function(e){return p.a.createElement(f.Menu.Item,{key:e.key},p.a.createElement("a",{href:e.href},p.a.createElement(f.Icon,{type:e.icon}),e.title))})),p.a.createElement("div",{className:"user flex middle right",onClick:this.handleShowUserInfo},p.a.createElement(f.Avatar,{src:this.head}))),p.a.createElement(f.Layout.Content,null,p.a.createElement(f.BackTop,{target:function(){return s||document.querySelector(".ant-layout-content")}}),p.a.createElement("div",{className:"layout-context".concat(r?" full-screen":"")},r?"":p.a.createElement(f.Breadcrumb,null,n.map(function(e,t){return p.a.createElement(f.Breadcrumb.Item,{key:String(t)},p.a.createElement("a",{href:e.link},e.text))}),o?p.a.createElement(f.Breadcrumb.Item,null,p.a.createElement(f.Popover,{placement:"right",content:p.a.createElement(f.Input.Search,{placeholder:"请输入",onSearch:function(e){return console.log(e)},style:{width:200}})},p.a.createElement(f.Icon,{type:"search",onClick:this.handleSearchButton}))):""),p.a.createElement("div",{style:{marginTop:r?0:16}},this.props.children)),p.a.createElement(f.Drawer,{width:"320",onClose:this.handleClose,visible:this.state.visible,closable:!1,placement:"right"},p.a.createElement("div",{class:"drawer-head flex vertical center"},p.a.createElement("div",{className:"user"},p.a.createElement(f.Avatar,{size:100,src:this.head})),p.a.createElement("h4",null,e.name," (",e.officeName,")"),p.a.createElement("div",{className:"flex center",style:{marginTop:20}},p.a.createElement("a",{onClick:this.handleLogout},"注销"))))))}}]),n}(p.a.Component)},35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UniquenessErrorMessage="Args must be uniques !",t.TypeErrorMessage="Arguments must be strings",t.ConstantsTypeErrorMessage="Constants must be an array",t.NamespaceTypeErrorMessage="Namespace must be strings"},37:function(e,t,r){e.exports=r(66)},38:function(e){e.exports=JSON.parse('[{"key":"study","href":"/study","icon":"home","title":"学习中心"},{"key":"videos","href":"/videos","icon":"play-circle","title":"在线视频"},{"key":"exam","href":"/exam","icon":"cloud","title":"在线考试"},{"key":"forum","href":"/forum","icon":"bulb","title":"溥弛社区"},{"key":"books","href":"/books","icon":"book","title":"电子丛书"},{"key":"knowledge","href":"/knowledge","icon":"read","title":"知识库"}]')},39:function(e,t,r){"use strict";function n(o){return function(e){var r=e.dispatch,n=e.getState;return function(t){return function(e){return"function"==typeof e?e(r,n,o):t(e)}}}}var o=n();o.withExtraArgument=n,t.a=o},4:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},40:function(r,e){function n(e,t){return r.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r.exports.__esModule=!0,r.exports.default=r.exports,n(e,t)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports},41:function(e,t,r){var n=r(23);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},42:function(e,t,r){var n=r(23);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},43:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},44:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},45:function(e,t,r){var n;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
n=function(j){var t=Object.prototype.toString,S=Array.isArray||function(e){return"[object Array]"===t.call(e)};function u(e){return"function"==typeof e}function A(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var r=RegExp.prototype.test;var n=/\S/;function C(e){return!r.call(n,e)}var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var R=/\s*/,P=/\s+/,I=/\s*=/,M=/\s*\}/,q=/#|\^|\/|>|\{|&|=|!/;function a(e,t){if(!e)return[];var r,n,o,a=[],s=[],i=[],c=!1,u=!1;function l(e){if("string"==typeof e&&(e=e.split(P,2)),!S(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(A(e[0])+"\\s*"),n=new RegExp("\\s*"+A(e[1])),o=new RegExp("\\s*"+A("}"+e[1]))}l(t||j.tags);for(var f,p,d,h,m,y,v=new H(e);!v.eos();){if(f=v.pos,d=v.scanUntil(r))for(var g=0,b=d.length;g<b;++g)if(C(h=d.charAt(g))?i.push(s.length):u=!0,s.push(["text",h,f,f+1]),f+=1,"\n"===h){if(c&&!u)for(;i.length;)delete s[i.pop()];else i=[];u=c=!1}if(!v.scan(r))break;if(c=!0,p=v.scan(q)||"name",v.scan(R),"="===p?(d=v.scanUntil(I),v.scan(I),v.scanUntil(n)):"{"===p?(d=v.scanUntil(o),v.scan(M),v.scanUntil(n),p="&"):d=v.scanUntil(n),!v.scan(n))throw new Error("Unclosed tag at "+v.pos);if(m=[p,d,f,v.pos],s.push(m),"#"===p||"^"===p)a.push(m);else if("/"===p){if(!(y=a.pop()))throw new Error('Unopened section "'+d+'" at '+f);if(y[1]!==d)throw new Error('Unclosed section "'+y[1]+'" at '+f)}else"name"===p||"{"===p||"&"===p?u=!0:"="===p&&l(d)}if(y=a.pop())throw new Error('Unclosed section "'+y[1]+'" at '+v.pos);for(var w,x=function(e){for(var t,r,n=[],o=0,a=e.length;o<a;++o)(t=e[o])&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n}(s),_=[],E=_,k=[],O=0,T=x.length;O<T;++O)switch((w=x[O])[0]){case"#":case"^":E.push(w),k.push(w),E=w[4]=[];break;case"/":k.pop()[5]=w[2],E=0<k.length?k[k.length-1][4]:_;break;default:E.push(w)}return _}function H(e){this.string=e,this.tail=e,this.pos=0}function s(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function e(){this.cache={}}H.prototype.eos=function(){return""===this.tail},H.prototype.scan=function(e){e=this.tail.match(e);if(!e||0!==e.index)return"";e=e[0];return this.tail=this.tail.substring(e.length),this.pos+=e.length,e},H.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},s.prototype.push=function(e){return new s(e,this)},s.prototype.lookup=function(e){var t,r=this.cache;if(r.hasOwnProperty(e))t=r[e];else{for(var n,o,a=this,s=!1;a;){if(0<e.indexOf("."))for(t=a.view,n=e.split("."),o=0;null!=t&&o<n.length;)o===n.length-1&&(s=i(t,n[o])),t=t[n[o++]];else t=a.view[e],s=i(a.view,e);if(s)break;a=a.parent}r[e]=t}return t=u(t)?t.call(this.view):t},e.prototype.clearCache=function(){this.cache={}},e.prototype.parse=function(e,t){var r=this.cache,n=r[e];return n=null==n?r[e]=a(e,t):n},e.prototype.render=function(e,t,r){var n=this.parse(e),t=t instanceof s?t:new s(t);return this.renderTokens(n,t,r,e)},e.prototype.renderTokens=function(e,t,r,n){for(var o,a,s,i="",c=0,u=e.length;c<u;++c)s=void 0,"#"===(a=(o=e[c])[0])?s=this.renderSection(o,t,r,n):"^"===a?s=this.renderInverted(o,t,r,n):">"===a?s=this.renderPartial(o,t,r,n):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(i+=s);return i},e.prototype.renderSection=function(e,t,r,n){var o=this,a="",s=t.lookup(e[1]);if(s){if(S(s))for(var i=0,c=s.length;i<c;++i)a+=this.renderTokens(e[4],t.push(s[i]),r,n);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)a+=this.renderTokens(e[4],t.push(s),r,n);else if(u(s)){if("string"!=typeof n)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,n.slice(e[3],e[5]),function(e){return o.render(e,t,r)}))&&(a+=s)}else a+=this.renderTokens(e[4],t,r,n);return a}},e.prototype.renderInverted=function(e,t,r,n){var o=t.lookup(e[1]);if(!o||S(o)&&0===o.length)return this.renderTokens(e[4],t,r,n)},e.prototype.renderPartial=function(e,t,r){if(r)return e=u(r)?r(e[1]):r[e[1]],null!=e?this.renderTokens(this.parse(e),t,r,e):void 0},e.prototype.unescapedValue=function(e,t){t=t.lookup(e[1]);if(null!=t)return t},e.prototype.escapedValue=function(e,t){t=t.lookup(e[1]);if(null!=t)return j.escape(t)},e.prototype.rawValue=function(e){return e[1]},j.name="mustache.js",j.version="2.3.2",j.tags=["{{","}}"];var c=new e;return j.clearCache=function(){return c.clearCache()},j.parse=function(e,t){return c.parse(e,t)},j.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(S(n=e)?"array":typeof n)+'" was given as the first argument for mustache#render(template, view, partials)');var n;return c.render(e,t,r)},j.to_html=function(e,t,r,n){e=j.render(e,t,r);if(!u(n))return e;n(e)},j.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return o[e]})},j.Scanner=H,j.Context=s,j.Writer=e,j},t&&"string"!=typeof t.nodeName?n(t):void 0!==(t="function"==typeof(n=n)?n.apply(t,[t]):n)&&(e.exports=t)},46:function(e,t,r){"use strict";var n=r(47),r=r(24),c=(r.normalize,r.serial),r=r.toQueryString;function o(e,t){return new n(e,t)}function a(){for(var e,t=this,r=void 0,r=0;r<arguments.length;r++){/input|select|textarea/i.test((e=arguments[r]).tagName)&&c(e,t);for(var n,o=e,a=["input","select","textarea"],s=n=i=s=void 0,i=void 0,s=0;s<a.length;s++)for(n=o[byTag](a[s]),i=0;i<n.length;i++)c(n[i],t)}}function s(){return o.toQueryString(o.serializeArray.apply(null,arguments))}function i(){var r={};return a.apply(function(e,t){e in r?(r[e]&&!Array.isArray(r[e])&&(r[e]=[r[e]]),r[e].push(t)):r[e]=t},arguments),r}o.serializeArray=function(){var r=[];return a.apply(function(e,t){r.push({name:e,value:t})},arguments),r},o.serialize=function(){if(0===arguments.length)return"";var e=void 0,t=Array.prototype.slice.call(arguments,0);return("map"==(e=(e=(e=t.pop())&&e.nodeType&&t.push(e)?null:e)&&e.type)?i:"array"==e?o.serializeArray:s).apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t))},o.toQueryString=r,e.exports=o},47:function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_require=__webpack_require__(24),getCallbackPrefix=_require.getCallbackPrefix,toQueryString=_require.toQueryString,buildParams=_require.buildParams,context=void 0,context=function(){return this}(),doc,byTag,head,XHR2;try{context=context||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(context=window)}"document"in context?(doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0]):XHR2=__webpack_require__(48);var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,lastValue=void 0,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0!==e.crossOrigin)return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP");var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest]){t=/^https?/;if(window.location.href.match(t)[0]!==e.url.match(t)[0])throw new Error("XDomainRequest: requests must be targeted to the same scheme as the hosting page.");return new XDomainRequest}throw new Error("Browser does not support cross-origin requests")},globalSetupOptions={dataFilter:function(e){return e}};function succeed(e){var t=(t=protocolRe.exec(e.url))&&t[1]||context.location.protocol;return httpsRe.test(t)?twoHundo.test(e.request.status):e.request.response}function handleReadyState(e,t,r){return function(){return e._aborted?r(e.request):e._timedOut?r(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,(succeed(e)?t:r)(e.request)))}}function getRequest(e,t){var r=this.o,n=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,a=!1!==r.processData&&r.data&&"string"!=typeof r.data?toQueryString(r.data):r.data||null,s=void 0,i=!1;return"jsonp"!=r.type&&"GET"!=n||!a||(o=urlappend(o,a),a=null),"jsonp"==r.type?handleJsonp(r,e,t,o):((s=r.xhr&&r.xhr(r)||xhr(r)).open(n,o,!1!==r.async),setHeaders(s,r),setCredentials(s,r),context[xDomainRequest]&&s instanceof context[xDomainRequest]?(s.onload=e,s.onerror=t,s.onprogress=function(){},i=!0):s.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(s),i?setTimeout(function(){s.send(a)},200):s.send(a),s)}function handleJsonp(e,t,r,n){var o=uniqid++,a=e.jsonpCallback||"callback",e=e.jsonpCallbackName||getCallbackPrefix(o),s=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),i=n.match(s),c=doc.createElement("script"),u=0,l=-1!==navigator.userAgent.indexOf("MSIE 10.0");return i?"?"===i[3]?n=n.replace(s,"$1="+e):e=i[3]:n=urlappend(n,a+"="+e),context[e]=generalCallback,c.type="text/javascript",c.src=n,c.async=!0,void 0===c.onreadystatechange||l||(c.htmlFor=c.id="_exceed_"+o),c.onload=c.onreadystatechange=function(){if(c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||u)return!1;c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),t(lastValue),lastValue=void 0,head.removeChild(c),u=1},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,r({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),u=1}}}function setHeaders(e,t){var r=t.headers||{},n=void 0,o=(r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"],"undefined"!=typeof FormData&&t.data instanceof FormData);for(n in t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||o||(r[contentType]=t.contentType||defaultHeaders.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function HttpAjax(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){var _this=this,_arguments=arguments,self=(this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandlers=[],this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={},this);if(fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success)for(var _loop=function(){var r=o.success.shift();_this._successHandlers.push(function(e,t){r(e,o,t)})};0<o.success.length;)_loop();if(o.error)for(var _loop2=function(){var n=o.error.shift();_this._errorHandlers.push(function(e,t,r){n(e,t,r,o)})};0<o.error.length;)_loop2();if(o.complete)for(var _loop3=function(){var e=o.complete.shift();_this._completeHandlers.push(function(){e(_arguments,o)})};0<o.complete.length;)_loop3();function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;0<self._completeHandlers.length;)self._completeHandlers.shift()(e)}function success(resp){var originResp=resp,type=o.type||resp&&setType(resp.getResponseHeader("Content-Type")),filteredResponse=(resp="jsonp"!==type?self.request:resp,globalSetupOptions.dataFilter(resp.responseText,type)),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}else"jsonp"!==type&&(resp=r);for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp);0<self._successHandlers.length;){var _successHandler=self._successHandlers.shift();_successHandler(resp,originResp)}for(;0<self._fulfillmentHandlers.length;){var fulfillmentHandler=self._fulfillmentHandlers.shift();fulfillmentHandler(resp)}complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,r){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=r,self._erred=!0;0<self._errorHandlers.length;)self._errorHandlers.shift()(e,t,r);complete(e)}this.request=getRequest.call(this,success,error)}HttpAjax.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return e=e||function(){},this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},module.exports=HttpAjax},48:function(e,t){e.exports=XMLHttpRequest},49:function(e,t,r){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=r(50);e.exports=function(e,r){var t={},n={token:"_tb_token_"};"string"==typeof r.csrf&&!0===r.csrf?t.csrf=n:("string"!=typeof r.csrf||!1!==r.csrf)&&"object"===a(r.csrf)&&r.csrf.token?t.csrf=o(n,r.csrf):t.csrf=!1,t.csrf&&(e.csrf=function(){var e=null,t=s.parse(document.cookie);if(e=t[r.csrf.token])return e;return!1}(),e.url+="&"+t.csrf.token+"="+e.csrf)}},50:function(e,t,r){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},t=t||{},n=e.split(l),o=t.decode||u,a=0;a<n.length;a++){var s,i=n[a],c=i.indexOf("=");c<0||(s=i.substr(0,c).trim(),'"'==(c=i.substr(++c,i.length).trim())[0]&&(c=c.slice(1,-1)),null==r[s]&&(r[s]=function(t,e){try{return e(t)}catch(e){return t}}(c,o)))}return r},t.serialize=function(e,t,r){var r=r||{},n=r.encode||a;if("function"!=typeof n)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");n=n(t);if(n&&!s.test(n))throw new TypeError("argument val is invalid");var o=e+"="+n;if(null!=r.maxAge){t=+r.maxAge;if(isNaN(t))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(t)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(o+="; HttpOnly");r.secure&&(o+="; Secure");if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return o};var u=decodeURIComponent,a=encodeURIComponent,l=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},504:function(e,t,r){},53:function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},n)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var r,n=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var a in r=Object(arguments[o]))u.call(r,a)&&(n[a]=r[a]);if(c)for(var s=c(r),i=0;i<s.length;i++)l.call(r,s[i])&&(n[s[i]]=r[s[i]])}return n}},55:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=r(34).a},56:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},560:function(e,t,r){"use strict";r.r(t);var t=r(0),n=r.n(t),o=r(20),o=r.n(o),a=r(7),s=r.n(a),a=r(8),i=r.n(a),a=r(4),c=r.n(a),a=r(9),u=r.n(a),a=r(10),l=r.n(a),a=r(6),f=r.n(a),a=r(3),p=r.n(a),a=r(17),d=r(33),h=r(13);function m(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach(function(e){p()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var d=Object(d.a)("forum"),v={0:d("FETCH_FORUM_ALL_DATA"),1:d("FETCH_MY_FORUM_DATA"),2:d("FETCH_MY_JOINED_FORUM_DATA"),3:d("FETCH_MY_FORUM_DATA_P1"),4:d("FETCH_MY_FORUM_DATA_P2"),5:d("FETCH_MY_FORUM_DATA_P3")};var g=r(55),b=r(2),d=r(62),w=r.n(d);r(504);function x(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);return e=n?(e=f()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),l()(this,e)}}w.a.locale("zh-cn");function _(e){return n.a.createElement("time",{className:"time-tag"},w()(e.children).startOf("hour").fromNow())}var E=[{label:"全部帖子",key:0,target:"allData"}],d=function(e){u()(a,e);var o=x(a);function a(){var r;s()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=o.call.apply(o,[this].concat(t)),p()(c()(r),"state",{activeKey:0,filtered:[],searchKey:""}),p()(c()(r),"handleSearch",function(t){t?r.setState({filtered:r.props.allData.list.filter(function(e){return new RegExp(t,"gi").test(e.title)}),activeKey:-2,searchKey:t}):r.setState({filtered:[],activeKey:0,searchKey:""})}),p()(c()(r),"handleTabChange",function(e){r.setState({activeKey:e})}),r}return i()(a,[{key:"componentDidMount",value:function(){var t=this;window.loadUserInfo.then(function(){E.forEach(function(e){return t.props.dispatch((n=e.key,function(r){return h.a.fetch({api:"fetchForumData",data:{type:n}}).then(function(e){var t;0===e.code&&(t=e.body.list.map(function(e){var t=document.createElement("div");return t.innerHTML=e.forumContent,{id:e.id,title:e.forumTitle,description:t.textContent.substr(0,100),lastUpdateTime:e.updateDate,replyCount:0,user:e.backup01,keywords:e.forumtKeyword}}),r({type:v[n],data:y(y({},e.body),{},{list:t})}))})}));var n})})}},{key:"searhResult",get:function(){return n.a.createElement(b.Tabs.TabPane,{tab:n.a.createElement("span",{className:"inline flex middle"},"搜索结果",n.a.createElement("label",null,"（",this.state.filtered.length,"）")),key:"-2"},n.a.createElement(b.List,{pagination:!0,size:"small",dataSource:this.state.filtered,renderItem:function(e){return n.a.createElement(b.List.Item,{actions:[n.a.createElement(_,null,e.lastUpdateTime)]},n.a.createElement(b.List.Item.Meta,{avatar:n.a.createElement(b.Avatar,{style:{color:"#f56a00"}},e.user.substr(0,1)),title:n.a.createElement("a",{href:"/forum/item?id=".concat(e.id)},n.a.createElement("b",null,e.title)),description:e.description}),e.keywords&&n.a.createElement("span",{className:"reply-count"},n.a.createElement("label",null,e.keywords)))}}))}},{key:"render",value:function(){var r=this,e=E.map(function(e){var t=r.props[e.target];return n.a.createElement(b.Tabs.TabPane,{tab:n.a.createElement("span",{className:"inline flex middle"},e.label,n.a.createElement("label",null,"（",t.count||0,"）")),key:String(e.key)},n.a.createElement(b.List,{pagination:!0,size:"small",dataSource:t.list||[],renderItem:function(e){return n.a.createElement(b.List.Item,{actions:[n.a.createElement(_,null,e.lastUpdateTime)]},n.a.createElement(b.List.Item.Meta,{avatar:n.a.createElement(b.Avatar,{style:{color:"#f56a00"}},e.user.substr(0,1)),title:n.a.createElement("a",{href:"/forum/item?id=".concat(e.id)},n.a.createElement("b",null,e.title)),description:e.description}),n.a.createElement("span",{className:"reply-count"},n.a.createElement("label",null,e.keywords)))}}))});return this.state.searchKey&&(e=e.concat(this.searhResult)),n.a.createElement(g.a,{showSearch:!0,fullScreen:!0,current:"forum"},n.a.createElement("div",{className:"head"},n.a.createElement("div",{className:"head-context"},n.a.createElement("div",{className:"forum-btns flex"},n.a.createElement("div",{className:"btns"},n.a.createElement(b.Input.Search,{placeholder:"搜索帖子",onSearch:this.handleSearch,size:"large",enterButton:!0,style:{width:240}}),0<userInfo.role?n.a.createElement("a",{target:"_blank",href:"/forum/send"},n.a.createElement(b.Button,{type:"primary",style:{marginLeft:8},size:"large"},"发帖子")):"")),n.a.createElement("h2",{className:"label"},"聚焦社区之美"))),n.a.createElement("div",{className:"flex forum-context"},n.a.createElement(b.Tabs,{onTabClick:this.handleTabChange,activeKey:String(this.state.activeKey)},e)))}}]),a}(t.Component),t=Object(a.connect)(function(e){return e})(d);function k(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach(function(e){p()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var T={allData:{},myData:{},myJoinedData:{},p1Data:{},p2Data:{},p3Data:{}},d=r(22),r=r(39),d=Object(d.createStore)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:T,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case v[0]:return O(O({},e),{},{allData:t.data});case v[1]:return O(O({},e),{},{myData:t.data});case v[2]:return O(O({},e),{},{myJoinedData:t.data});case v[3]:return O(O({},e),{},{p1Data:t.data});case v[4]:return O(O({},e),{},{p2Data:t.data});case v[5]:return O(O({},e),{},{p3Data:t.data});default:return O({},e)}},Object(d.applyMiddleware)(r.a));o.a.render(n.a.createElement(a.Provider,{store:d},n.a.createElement(t,null)),document.getElementById("root"))},57:function(e,t,r){"use strict";var n="%[a-f0-9]{2}",o=new RegExp(n,"gi"),u=new RegExp("("+n+")+","gi");function l(t){try{return decodeURIComponent(t)}catch(e){for(var r=t.match(o),n=1;n<r.length;n++)r=(t=function e(t,r){try{return decodeURIComponent(t.join(""))}catch(e){}if(1===t.length)return t;var n=t.slice(0,r=r||1),t=t.slice(r);return Array.prototype.concat.call([],e(n),e(t))}(r,n).join("")).match(o);return t}}e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){for(var r=t,n={"%FE%FF":"��","%FF%FE":"��"},o=u.exec(r);o;){try{n[o[0]]=decodeURIComponent(o[0])}catch(e){var a=l(o[0]);a!==o[0]&&(n[o[0]]=a)}o=u.exec(r)}n["%C2"]="�";for(var s=Object.keys(n),i=0;i<s.length;i++){var c=s[i];r=r.replace(new RegExp(c,"g"),n[c])}return r}}},6:function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},62:function(e,t){e.exports=moment},66:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35),o=r(67),a=r(68);t.default=function(r,e){return(0,a.matchTypeOrThrow)(r,o.isString,n.NamespaceTypeErrorMessage),(0,a.matchTypeOrThrow)(e,o.isArray,n.ConstantsTypeErrorMessage),(0,a.raiseErrorIfNotUnique)(e),Object.freeze(e.reduce(function(e,t){return(0,a.matchTypeOrThrow)(t,o.isString,n.TypeErrorMessage),e[t]=r+"/"+t,e},{}))}},67:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isString=function(e){return"string"==typeof e||e instanceof String},t.isArray=function(e){return Array.isArray(e)}},68:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.raiseErrorIfNotUnique=t.matchTypeOrThrow=void 0;var o=r(35);t.matchTypeOrThrow=function(e,t,r){if(!t(e))throw new Error(r)},t.raiseErrorIfNotUnique=function(e){for(var t={},r=!1,n=0;n<e.length&&!r;n++)t[e[n]]&&(r=!0),t[e[n]]=!0;if(r)throw new Error(o.UniquenessErrorMessage)}},69:function(e,t,r){},7:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e,t){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9:function(e,t,r){var n=r(40);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}});